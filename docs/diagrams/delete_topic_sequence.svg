<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="393px" preserveAspectRatio="none" style="width:782px;height:393px;background:#FFFFFF;" version="1.1" viewBox="0 0 782 393" width="782px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="26.2969" id="_title" style="stroke:none;stroke-width:1.0;" width="262" x="261.5" y="10"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="252" x="266.5" y="27.9951">Delete Topic Sequence Diagram</text><rect fill="#FFFFFF" height="256.1953" style="stroke:#181818;stroke-width:1.0;" width="10" x="39" y="83.5938"/><rect fill="#FFFFFF" height="147.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="197" y="192.125"/><rect fill="#FFFFFF" height="265.1953" style="stroke:#181818;stroke-width:1.0;" width="10" x="479" y="83.5938"/><rect fill="#FFFFFF" height="220.0625" style="stroke:#181818;stroke-width:1.0;" width="10" x="717" y="83.5938"/><rect fill="none" height="104.5313" style="stroke:#000000;stroke-width:1.5;" width="628.5" x="147.5" y="207.125"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="44" x2="44" y1="73.5938" y2="357.7891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="201.5" x2="201.5" y1="73.5938" y2="357.7891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="484" x2="484" y1="73.5938" y2="357.7891"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="722" x2="722" y1="73.5938" y2="357.7891"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="78" x="5" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="12" y="62.292">Publisher</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="78" x="5" y="356.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="64" x="12" y="376.7842">Publisher</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="89" x="157.5" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="164.5" y="62.292">PS_Service</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="89" x="157.5" y="356.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75" x="164.5" y="376.7842">PS_Service</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="60" x="454" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46" x="461" y="62.292">Broker</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="60" x="454" y="356.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="46" x="461" y="376.7842">Broker</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="678" y="42.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="685" y="62.292">Subscriber</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="88" x="678" y="356.7891"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="74" x="685" y="376.7842">Subscriber</text><rect fill="#FFFFFF" height="256.1953" style="stroke:#181818;stroke-width:1.0;" width="10" x="39" y="83.5938"/><rect fill="#FFFFFF" height="147.6641" style="stroke:#181818;stroke-width:1.0;" width="10" x="197" y="192.125"/><rect fill="#FFFFFF" height="265.1953" style="stroke:#181818;stroke-width:1.0;" width="10" x="479" y="83.5938"/><rect fill="#FFFFFF" height="220.0625" style="stroke:#181818;stroke-width:1.0;" width="10" x="717" y="83.5938"/><polygon fill="#181818" points="467,100.7266,477,104.7266,467,108.7266,471,104.7266" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="49" x2="473" y1="104.7266" y2="104.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="56" y="99.6606">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29" x="69" y="99.6606">data</text><polygon fill="#181818" points="705,129.8594,715,133.8594,705,137.8594,709,133.8594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="489" x2="711" y1="133.8594" y2="133.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="496" y="128.7935">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29" x="509" y="128.7935">data</text><line style="stroke:#181818;stroke-width:2.0;" x1="461" x2="471" y1="157.9922" y2="167.9922"/><line style="stroke:#181818;stroke-width:2.0;" x1="461" x2="471" y1="167.9922" y2="157.9922"/><line style="stroke:#181818;stroke-width:1.0;" x1="49" x2="466" y1="162.9922" y2="162.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="56" y="157.9263">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29" x="69" y="157.9263">data</text><polygon fill="#181818" points="185,188.125,195,192.125,185,196.125,189,192.125" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="49" x2="191" y1="192.125" y2="192.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="56" y="187.0591">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116" x="69" y="187.0591">DeleteTopic(topic)</text><path d="M147.5,207.125 L211.5,207.125 L211.5,214.2578 L201.5,224.2578 L147.5,224.2578 L147.5,207.125 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="104.5313" style="stroke:#000000;stroke-width:1.5;" width="628.5" x="147.5" y="207.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19" x="162.5" y="220.1919">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="101" x="226.5" y="219.3354">[topic subs &gt; 0]</text><polygon fill="#181818" points="467,241.3906,477,245.3906,467,249.3906,471,245.3906" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="207" x2="473" y1="245.3906" y2="245.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="214" y="240.3247">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="235" x="227" y="240.3247">publish PubSubAction::DELETE(topic)</text><polygon fill="#181818" points="705,270.5234,715,274.5234,705,278.5234,709,274.5234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="489" x2="711" y1="274.5234" y2="274.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="496" y="269.4575">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="509" y="269.4575">TOPIC DELETED on topic</text><line style="stroke:#181818;stroke-width:2.0;" x1="496" x2="506" y1="298.6563" y2="308.6563"/><line style="stroke:#181818;stroke-width:2.0;" x1="496" x2="506" y1="308.6563" y2="298.6563"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="501" x2="721" y1="303.6563" y2="303.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="506" y="298.5903">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="191" x="519" y="298.5903">disconnect/unsubscribe(topic)</text><polygon fill="#181818" points="55,335.7891,45,339.7891,55,343.7891,51,339.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="49" x2="201" y1="339.7891" y2="339.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="61" y="334.7231">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="22" x="74" y="334.7231">ack</text><line style="stroke:#A80036;stroke-width:2.0;" x1="35" x2="53" y1="330.7891" y2="348.7891"/><line style="stroke:#A80036;stroke-width:2.0;" x1="35" x2="53" y1="348.7891" y2="330.7891"/><!--MD5=[158fd0f762f3e318c8ad2de2abf3ba42]
@startuml delete topic sequence diagram
title Delete Topic Sequence Diagram
autonumber
activate Publisher
participant PS_Service
activate Broker
activate Subscriber

Publisher -> Broker : data
Broker -> Subscriber : data
Publisher ->x Broker : data
Publisher -> PS_Service : DeleteTopic(topic)
activate PS_Service
alt topic subs > 0
    PS_Service -> Broker : publish PubSubAction::DELETE(topic)
    Broker -> Subscriber : TOPIC DELETED on topic
    Subscriber - ->x Broker : disconnect/unsubscribe(topic)
    deactivate Subscriber
end
PS_Service - -> Publisher : ack
deactivate PS_Service
destroy Publisher

@enduml

PlantUML version 1.2022.7(Mon Aug 22 10:01:30 PDT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>